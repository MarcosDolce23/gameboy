<!DOCTYPE html>
<html>

	<head>
		<title>gb emulator</title>
		<meta charset='UTF-8'>

		<link rel='stylesheet' href='src/css/index.css'>
	</head>
	<body>
		<div class='outerwrap'>

			<!-- GameBoy div -->
			<div class='gbwrap'> 

				<div class='gbtop'>
					<canvas id='nanacanvas' width='160' height='144'></canvas>
					<div class='gbsmallgap'></div>
				</div>

				<div class='gbbiggap'></div>

				<div class='gbbottom'>
					<input id='nanafin' type='file' accept='.gb, .gbc, .bin, .rom' class='hide'>
					<label for='nanafin' class='filebutton'>Choose ROM</label>
				</div>

			</div>

			<!-- Scripts -->
			<script src='src/ops.js'></script>
			<script src='src/cpu.js'></script>
			<script src='src/ppu.js'></script>
			<script src='src/mem.js'></script>

			<script src='src/main.js'></script>

			<script>
				//window.onload = function () {

					const nanacanvas = document.getElementById ('nanacanvas');
					const nanafin = document.getElementById ('nanafin');

					const gameboy = new Gameboy (nanacanvas);

					nanafin.onchange = function (evt) {
						var file = evt.target.files [0];
						if (!file)
							return;

						gameboy.start (file, nanacanvas);
					};

				//};
			</script>

		</div>
	</body>

</html>